{% extends 'base.html' %}
{% load static %}
{% load role_names %}

{% block title %}–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞ - –°–ø–æ—Ä—Ç–ë–∞—à{% endblock %}

{% block content %}
<div class="container" style="max-width: 1400px;">
    <!-- –û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div class="user-profile-card">
        <div class="user-profile-header">
            <h2>–û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ</h2>
            <div class="user-profile-actions">
                <a href="{% url 'frontend-user-basic-data-edit' %}" class="btn btn-secondary">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
            </div>
        </div>
        <div class="user-profile-content">
            <div class="profile-info">
                <div class="profile-item">
                    <span class="profile-label">–§–ò–û:</span>
                    <span class="profile-value">{{ user.get_full_name|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</span>
                </div>
                <div class="profile-item">
                    <span class="profile-label">Email:</span>
                    <span class="profile-value">{{ user.email }}</span>
                </div>
                {% if user.phone %}
                <div class="profile-item">
                    <span class="profile-label">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                    <span class="profile-value">{{ user.phone }}</span>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    
    <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–æ–ª–µ–π -->
    {% if all_roles|length > 1 %}
        {% include 'frontend/dashboard_parts/role_switcher.html' %}
    {% elif all_roles|length == 1 %}
    <div class="card" style="margin-bottom: 2rem; background: var(--secondary-blue);">
        <div class="card-body">
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                <span>–£ –≤–∞—Å –æ–¥–Ω–∞ —Ä–æ–ª—å. –•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë?</span>
                {% if all_roles|length < 4 %}
                <a href="{% url 'frontend-new-role-selection' %}" class="btn btn-primary">+ –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å</a>
                {% endif %}
            </div>
        </div>
    </div>
    {% endif %}
    
    <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
    {% include 'frontend/dashboard_parts/achievements_section.html' with is_coach=False %}
    
    <!-- –í–∏–¥–∂–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    {% include 'frontend/dashboard_parts/notifications_widget.html' %}
    
    <!-- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–≤—è–∑–∏ —Ä–æ–ª–µ–π -->
    {% include 'frontend/dashboard_parts/auto_link_suggestion.html' %}
    
    <h1>üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞</h1>
    
    {% if user.athlete_profile %}
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
        </div>
        <div class="card-body">
            <div style="display: flex; gap: 2rem; flex-wrap: wrap;">
                {% if user.photo %}
                <div style="flex-shrink: 0;">
                    <img src="{{ user.photo.url }}" alt="–§–æ—Ç–æ" style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid var(--primary-blue);">
                </div>
                {% endif %}
                <div style="flex: 1; min-width: 300px;">
                    <div class="profile-info">
                        <div class="profile-item">
                            <span class="profile-label">–§–ò–û:</span>
                            <span class="profile-value">{{ user.get_full_name }}</span>
                        </div>
                        <div class="profile-item">
                            <span class="profile-label">Email:</span>
                            <span class="profile-value">{{ user.email }}</span>
                        </div>
                        {% if user.athlete_profile.city %}
                        <div class="profile-item">
                            <span class="profile-label">–ì–æ—Ä–æ–¥:</span>
                            <span class="profile-value">{{ user.athlete_profile.city.name }}</span>
                        </div>
                        {% endif %}
                        {% if user.athlete_profile.main_sport %}
                        <div class="profile-item">
                            <span class="profile-label">–û—Å–Ω–æ–≤–Ω–æ–π –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞:</span>
                            <span class="profile-value">{{ user.athlete_profile.main_sport.name }}</span>
                        </div>
                        {% endif %}
                        {% if user.athlete_profile.specializations.exists %}
                        <div class="profile-item">
                            <span class="profile-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞:</span>
                            <span class="profile-value">
                                {% for spec in user.athlete_profile.specializations.all %}
                                    {% if not spec.is_primary %}
                                        {{ spec.sport.name }}{% if not forloop.last %}, {% endif %}
                                    {% endif %}
                                {% endfor %}
                            </span>
                        </div>
                        {% endif %}
                        {% if user.athlete_profile.health_group %}
                        <div class="profile-item">
                            <span class="profile-label">–ì—Ä—É–ø–ø–∞ –∑–¥–æ—Ä–æ–≤—å—è:</span>
                            <span class="profile-value">{{ user.athlete_profile.health_group }}</span>
                        </div>
                        {% endif %}
                        {% if user.athlete_profile.goals %}
                        <div class="profile-item">
                            <span class="profile-label">–¶–µ–ª–∏:</span>
                            <span class="profile-value">{{ user.athlete_profile.goals|join:", " }}</span>
                        </div>
                        {% endif %}
                        <div class="profile-item" style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--gray);">
                            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                                <div>
                                    <span class="profile-label">–ú–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID:</span>
                                    <span class="profile-value" id="roleIdValue" style="font-weight: bold; font-size: 1.2rem; color: var(--primary-blue); font-family: monospace; display: block; margin-top: 0.5rem;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                </div>
                                <div style="display: flex; gap: 0.5rem;">
                                    <button class="btn btn-secondary btn-sm" onclick="copyAthleteRoleId()" id="copyAthleteIdBtn">
                                        üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                                    </button>
                                    <button class="btn btn-primary btn-sm" onclick="showAthleteQRCode()">
                                        üì∑ –ü–æ–∫–∞–∑–∞—Ç—å QR-–∫–æ–¥
                                    </button>
                                </div>
                            </div>
                            <small style="color: var(--text-light); display: block; margin-top: 0.5rem;">
                                –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–∏–º ID —Å —Ä–æ–¥–∏—Ç–µ–ª–µ–º –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–∞—Å –≤ —Å–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π
                            </small>
                        </div>
                    </div>
                    <div style="margin-top: 1rem;">
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <a href="{% url 'frontend-user-basic-data-edit' %}" class="btn btn-secondary">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ</a>
                            <a href="{% url 'frontend-athlete-profile-edit' %}" class="btn btn-primary">üèÉ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Ä–æ–ª–∏ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞
    fetch('/api/users/roles/athlete/id/')
        .then(response => response.json())
        .then(data => {
            if (data.unique_id) {
                document.getElementById('roleIdValue').textContent = data.unique_id;
                window.athleteRoleId = data.unique_id;
            }
        })
        .catch(error => {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ID —Ä–æ–ª–∏:', error);
            document.getElementById('roleIdValue').textContent = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
        });
    
    function copyAthleteRoleId() {
        const roleId = window.athleteRoleId || document.getElementById('roleIdValue').textContent;
        if (roleId && roleId !== '–ó–∞–≥—Ä—É–∑–∫–∞...' && roleId !== '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏') {
            navigator.clipboard.writeText(roleId).then(() => {
                const btn = document.getElementById('copyAthleteIdBtn');
                const originalText = btn.textContent;
                btn.textContent = '‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                btn.style.background = 'var(--success)';
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 2000);
            }).catch(err => {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID');
            });
        }
    }
    
    function showAthleteQRCode() {
        const roleId = window.athleteRoleId || document.getElementById('roleIdValue').textContent;
        if (!roleId || roleId === '–ó–∞–≥—Ä—É–∑–∫–∞...' || roleId === '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏') {
            alert('ID —Ä–æ–ª–∏ –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
            return;
        }
        
        // –°–æ–∑–¥–∞—ë–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å QR-–∫–æ–¥–æ–º
        const modal = document.createElement('div');
        modal.className = 'role-id-modal';
        modal.innerHTML = `
            <div class="role-id-modal-content">
                <div class="role-id-modal-header">
                    <h3>QR-–∫–æ–¥ ID —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞</h3>
                    <button class="role-id-modal-close" onclick="this.closest('.role-id-modal').remove()">√ó</button>
                </div>
                <div class="role-id-modal-body">
                    <div class="role-id-display-modal">
                        <div class="role-id-value-modal">${roleId}</div>
                        <button class="btn btn-primary" onclick="copyAthleteRoleId(); this.closest('.role-id-modal').remove();">
                            üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID
                        </button>
                    </div>
                    <div class="role-id-qr-modal" id="athleteQRCode"></div>
                    <p class="role-id-description-modal">
                        –ü–æ–∫–∞–∂–∏—Ç–µ —ç—Ç–æ—Ç QR-–∫–æ–¥ —Ä–æ–¥–∏—Ç–µ–ª—é –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
                    </p>
                </div>
            </div>
        `;
        document.body.appendChild(modal);
        modal.style.display = 'flex';
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞
        if (typeof QRCode !== 'undefined') {
            QRCode.toCanvas(document.getElementById('athleteQRCode'), roleId, {
                width: 250,
                margin: 2,
                color: {
                    dark: '#0066CC',
                    light: '#FFFFFF'
                }
            });
        } else {
            document.getElementById('athleteQRCode').innerHTML = `
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(roleId)}" 
                     alt="QR Code" style="max-width: 250px; height: auto; border-radius: 8px;">
            `;
        }
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                modal.remove();
            }
        });
    }
    </script>
    
    <style>
    .role-id-modal {
        display: none;
        position: fixed;
        z-index: 3000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.6);
        align-items: center;
        justify-content: center;
    }
    
    .role-id-modal-content {
        background-color: var(--white);
        margin: auto;
        padding: 0;
        border-radius: 12px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        max-width: 500px;
        width: 90%;
        animation: modalSlideIn 0.3s ease;
    }
    
    .role-id-modal-header {
        background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
        color: var(--white);
        padding: 1.25rem 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-radius: 12px 12px 0 0;
    }
    
    .role-id-modal-header h3 {
        margin: 0;
        color: var(--white);
        font-size: 1.25rem;
    }
    
    .role-id-modal-close {
        background: none;
        border: none;
        color: var(--white);
        font-size: 2rem;
        cursor: pointer;
        line-height: 1;
        padding: 0;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: background 0.2s;
    }
    
    .role-id-modal-close:hover {
        background: rgba(255, 255, 255, 0.2);
    }
    
    .role-id-modal-body {
        padding: 2rem;
    }
    
    .role-id-display-modal {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
        padding: 1rem;
        background: var(--light-gray);
        border-radius: 8px;
    }
    
    .role-id-value-modal {
        font-size: 1.75rem;
        font-weight: bold;
        font-family: 'Courier New', monospace;
        color: var(--primary-blue);
        flex: 1;
        text-align: center;
        letter-spacing: 3px;
    }
    
    .role-id-qr-modal {
        text-align: center;
        margin-bottom: 1rem;
        padding: 1rem;
        background: var(--light-gray);
        border-radius: 8px;
    }
    
    .role-id-qr-modal canvas,
    .role-id-qr-modal img {
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    .role-id-description-modal {
        text-align: center;
        color: var(--text-light);
        font-size: 0.9rem;
        margin: 0;
    }
    </style>
    {% endif %}
    
    <!-- –ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
    <div class="card" style="margin-top: 2rem;">
        <div class="card-header">
            <h2 class="card-title">üìä –ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</h2>
        </div>
        <div class="card-body">
            <div id="progressChart" style="min-height: 300px;">
                <div class="loading" style="margin: 2rem auto; display: block;"></div>
            </div>
        </div>
    </div>
    
    <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <div class="section-header" style="margin-top: 2rem;">
        <h2 class="section-title">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
    </div>
    <div class="grid grid-2">
        <a href="{% url 'frontend-organizations' %}" class="item-card">
            <div class="item-icon">üè¢</div>
            <h3 class="item-card-title">–ù–∞–π—Ç–∏ —Å–µ–∫—Ü–∏—é</h3>
            <p class="item-card-description">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –≤ —Å–ø–æ—Ä—Ç–∏–≤–Ω—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é</p>
        </a>
        
        <a href="{% url 'frontend-events' %}" class="item-card">
            <div class="item-icon">üèÜ</div>
            <h3 class="item-card-title">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h3>
            <p class="item-card-description">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</p>
        </a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
fetch('/api/athletes/progress/', {
    headers: {
        'X-CSRFToken': '{{ csrf_token }}'
    },
    credentials: 'same-origin'
})
    .then(response => {
        if (!response.ok) {
            throw new Error(`HTTP ${response.status}`);
        }
        return response.json();
    })
    .then(data => {
        const chartContainer = document.getElementById('progressChart');
        chartContainer.innerHTML = '';
        const ctx = document.createElement('canvas');
        chartContainer.appendChild(ctx);
        
        // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –ø–æ –º–µ—Å—è—Ü–∞–º
        const attendanceByMonth = {};
        if (data.attendance && Array.isArray(data.attendance)) {
            data.attendance.forEach(record => {
                const dateStr = record.date;
                if (!dateStr) return;
                
                const date = new Date(dateStr);
                const month = date.toLocaleDateString('ru-RU', { month: 'short', year: 'numeric' });
                if (!attendanceByMonth[month]) {
                    attendanceByMonth[month] = { present: 0, absent: 0, late: 0 };
                }
                if (record.status === 'present') attendanceByMonth[month].present++;
                else if (record.status === 'absent') attendanceByMonth[month].absent++;
                else if (record.status === 'late') attendanceByMonth[month].late++;
            });
        }
        
        const months = Object.keys(attendanceByMonth).sort();
        const presentData = months.map(m => attendanceByMonth[m].present);
        const absentData = months.map(m => attendanceByMonth[m].absent);
        
        // –°–æ–∑–¥–∞–µ–º –≥—Ä–∞—Ñ–∏–∫ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ
        if (months.length > 0) {
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [
                        {
                            label: '–ü–æ—Å–µ—â–µ–Ω–∏—è',
                            data: presentData,
                            borderColor: 'rgb(75, 192, 192)',
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            tension: 0.1
                        },
                        {
                            label: '–ü—Ä–æ–ø—É—Å–∫–∏',
                            data: absentData,
                            borderColor: 'rgb(255, 99, 132)',
                            backgroundColor: 'rgba(255, 99, 132, 0.2)',
                            tension: 0.1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        } else {
            ctx.parentElement.innerHTML = '<p style="color: var(--text-light); text-align: center;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å—è—Ü–µ–≤</p>';
        }
        
        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        const totalPresent = presentData.reduce((a, b) => a + b, 0);
        const eventsCount = data.events && Array.isArray(data.events) ? data.events.length : 0;
        const achievementsCount = data.achievements && Array.isArray(data.achievements) ? data.achievements.length : 0;
        
        const statsHtml = `
            <div style="margin-top: 2rem; display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                <div style="text-align: center; padding: 1rem; background: var(--secondary-blue); border-radius: 8px;">
                    <div style="font-size: 2rem; font-weight: bold;">${eventsCount}</div>
                    <div style="color: var(--text-light);">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</div>
                </div>
                <div style="text-align: center; padding: 1rem; background: var(--secondary-blue); border-radius: 8px;">
                    <div style="font-size: 2rem; font-weight: bold;">${achievementsCount}</div>
                    <div style="color: var(--text-light);">–î–æ—Å—Ç–∏–∂–µ–Ω–∏–π</div>
                </div>
                <div style="text-align: center; padding: 1rem; background: var(--secondary-blue); border-radius: 8px;">
                    <div style="font-size: 2rem; font-weight: bold;">${totalPresent}</div>
                    <div style="color: var(--text-light);">–ü–æ—Å–µ—â–µ–Ω–∏–π</div>
                </div>
            </div>
        `;
        chartContainer.insertAdjacentHTML('afterend', statsHtml);
    })
    .catch(error => {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:', error);
        document.getElementById('progressChart').innerHTML = '<p style="color: var(--text-light); text-align: center;">–î–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã</p>';
    });
</script>

<style>
.user-profile-card {
    background: var(--white);
    border-radius: 12px;
    box-shadow: 0 2px 10px var(--shadow);
    margin-bottom: 2rem;
    border: 2px solid var(--secondary-blue);
}

.user-profile-header {
    background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
    color: var(--white);
    padding: 1.25rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.user-profile-header h2 {
    font-size: 1.5rem;
    font-weight: 600;
    margin: 0;
    color: var(--white);
}

.user-profile-actions {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.user-profile-content {
    padding: 1.5rem;
}

@media (max-width: 768px) {
    .user-profile-header {
        flex-direction: column;
        align-items: flex-start;
    }
}
</style>
{% endblock %}
