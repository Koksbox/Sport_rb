{% extends 'base.html' %}
{% load static %}
{% load role_names %}

{% block title %}–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ - –°–ø–æ—Ä—Ç–ë–∞—à{% endblock %}

{% block content %}
<div class="container" style="max-width: 1400px;">
    <!-- –û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div class="user-profile-card">
        <div class="user-profile-header">
            <h2>–û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ</h2>
            <div class="user-profile-actions">
                <a href="{% url 'frontend-user-basic-data-edit' %}" class="btn btn-secondary">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
            </div>
        </div>
        <div class="user-profile-content">
            <div class="profile-info">
                <div class="profile-item">
                    <span class="profile-label">–§–ò–û:</span>
                    <span class="profile-value">{{ user.get_full_name|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</span>
                </div>
                <div class="profile-item">
                    <span class="profile-label">Email:</span>
                    <span class="profile-value">{{ user.email }}</span>
                </div>
                {% if user.phone %}
                <div class="profile-item">
                    <span class="profile-label">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                    <span class="profile-value">{{ user.phone }}</span>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    
    <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–æ–ª–µ–π -->
    {% if all_roles|length > 1 %}
        {% include 'frontend/dashboard_parts/role_switcher.html' %}
    {% elif all_roles|length == 1 %}
    <div class="card" style="margin-bottom: 2rem; background: var(--secondary-blue);">
        <div class="card-body">
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                <span>–£ –≤–∞—Å –æ–¥–Ω–∞ —Ä–æ–ª—å. –•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë?</span>
                {% if all_roles|length < 4 %}
                <a href="{% url 'frontend-new-role-selection' %}" class="btn btn-primary">+ –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å</a>
                {% endif %}
            </div>
        </div>
    </div>
    {% endif %}
    
    <!-- –í–∏–¥–∂–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    {% include 'frontend/dashboard_parts/notifications_widget.html' %}
    
    <h1>üè¢ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</h1>
    
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
        </div>
        <div class="card-body">
            <div class="profile-info">
                <div class="profile-item">
                    <span class="profile-label">–§–ò–û:</span>
                    <span class="profile-value">{{ user.get_full_name }}</span>
                </div>
                <div class="profile-item">
                    <span class="profile-label">Email:</span>
                    <span class="profile-value">{{ user.email }}</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <div class="section-header" style="margin-top: 2rem;">
        <h2 class="section-title">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
    </div>
    <div class="grid grid-2">
        <a href="{% url 'frontend-organization-create' %}" class="item-card">
            <div class="item-icon">‚ûï</div>
            <h3 class="item-card-title">–°–æ–∑–¥–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é</h3>
            <p class="item-card-description">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å–ø–æ—Ä—Ç–∏–≤–Ω—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é</p>
        </a>
        
        <a href="{% url 'frontend-my-organizations' %}" class="item-card">
            <div class="item-icon">üìä</div>
            <h3 class="item-card-title">–ú–æ–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</h3>
            <p class="item-card-description">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏</p>
        </a>
        
        <a href="{% url 'frontend-director-coach-requests' %}" class="item-card">
            <div class="item-icon">üìù</div>
            <h3 class="item-card-title">–ó–∞—è–≤–∫–∏ –Ω–∞ —Ä–∞–±–æ—Ç—É</h3>
            <p class="item-card-description">–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫ –æ—Ç —Ç—Ä–µ–Ω–µ—Ä–æ–≤</p>
        </a>
        
        <a href="{% url 'frontend-director-free-coaches' %}" class="item-card">
            <div class="item-icon">üë•</div>
            <h3 class="item-card-title">–°–≤–æ–±–æ–¥–Ω—ã–µ —Ç—Ä–µ–Ω–µ—Ä—ã</h3>
            <p class="item-card-description">–ü–æ–∏—Å–∫ –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —Ç—Ä–µ–Ω–µ—Ä–æ–≤ –Ω–∞ —Ä–∞–±–æ—Ç—É</p>
        </a>
        
        <a href="{% url 'frontend-events' %}" class="item-card">
            <div class="item-icon">üèÜ</div>
            <h3 class="item-card-title">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h3>
            <p class="item-card-description">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞(-–æ–≤) –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</p>
        </a>
    </div>
</div>

<style>
.user-profile-card {
    background: var(--white);
    border-radius: 12px;
    box-shadow: 0 2px 10px var(--shadow);
    margin-bottom: 2rem;
    border: 2px solid var(--secondary-blue);
}

.user-profile-header {
    background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
    color: var(--white);
    padding: 1.25rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.user-profile-header h2 {
    font-size: 1.5rem;
    font-weight: 600;
    margin: 0;
    color: var(--white);
}

.user-profile-actions {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.user-profile-content {
    padding: 1.5rem;
}

@media (max-width: 768px) {
    .user-profile-header {
        flex-direction: column;
        align-items: flex-start;
    }
}
</style>
{% endblock %}
